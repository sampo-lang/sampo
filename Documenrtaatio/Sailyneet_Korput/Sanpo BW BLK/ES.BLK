                                                                                                                                 eeeeeee     ssss                                                e          s    s                                               e           s                                                   e            s                                                  eeeee         ss                                                e               s                                               e                s                                              e          s     s                                              eeeeeee     sssss                                                                                                                                                                                                                                                                                                                                                                              \ ES-herkules-muutokset                                                                                                         1 4 +THRU cr .( ES-muutokset meni )                                                                                             : COSCRO ['] CO(SCROLL) IS SCROLL ;                             : ESCRO  ['] ES(SCROLL) IS SCROLL ;                                                                                             ' ES(BSPEISI) IS BSPEISI                                                                                                        decimal                                                                                                                                                                                                                                                                                                                                                                                                                                                         \ Graafisen ja tavallisen moodin vaihdot                        hex                                                             : GRMODE        \ page 1                                          4000 vidio10  4301 vidio10 4200 vidio10 4501 vidio10          ;                                                               : TMODE                                                           4100 vidio10                                                  ;                                                               : THERCU                     \ char , char                        dup 20 >= if                                                    vidio02 9 * swap                                                0e * 0d + 2 pick                                                4a00 + vidio30h                                               then                                                            ;                                                                 ' thercu is s(hercu)  ' THERCU IS (THERCU)                    \ moodit ja viivat ja pisteet                                   hex                                                                                                                             : xmode                                                           4402 vidio10                                                  ;                                                                                                                               : mode                                                            4400 + vidio10                                                ;                                                                                                                                                                                                                                                                                                                                                                                                                                                               \ SCROLLAUS                                                     HEX                                                                                                                             : TOOFFSET                      \ RIVI YLHAALTA LASKIEN , OFFSET  2 /MOD 276 * SWAP IF 410E + THEN                              ;                                                                                                                               : NLINE 2000 + DUP 8000 AND IF 05A + 7FFF AND THEN              ;                                                                                                                               : LINESCROLL                                                      0 DO                                                            2DUP LINEMOVE                                                   NLINE SWAP NLINE SWAP                                           LOOP 2DROP                                                    ;                                                               \ SCROLLAUS                                                     HEX                                                             : SPF                                                             0E 0 DO                                                               DUP ZEROFII NLINE                                         loop  DROP                                                    ;                                                               : ES(SCROLL) CO(SCROLL) vierit @ \ - , -                          DUP SCLINES SWAP -                                              DUP 1+ TOOFFSET                                                 SWAP TOOFFSET                                                   ROT 0E * 2 + LINESCROLL                                         01C7A SPF                                                     ;                                                               : ES(BSPEISI)                                                     CO(BSPEISI) 20 THERCU DROP ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  